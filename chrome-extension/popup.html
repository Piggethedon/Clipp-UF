<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clipp - Spara pengar smartare</title>
    <link rel="stylesheet" href="popup.css">
</head>
<body>
    <div class="clipp-popup-container">
        <!-- Header -->
        <div class="clipp-popup-header">
            <div class="clipp-logo-container">
                <img src="icons/icon32.png" alt="Clipp" class="clipp-popup-logo">
                <h1>Clipp</h1>
            </div>
            <div class="clipp-language-switcher">
                <button class="clipp-lang-btn active" data-lang="sv">
                    <img src="icons/flag-sv.png" alt="Svenska" width="16" height="12">
                </button>
                <button class="clipp-lang-btn" data-lang="en">
                    <img src="icons/flag-en.png" alt="English" width="16" height="12">
                </button>
            </div>
        </div>

        <!-- Tagline -->
        <div class="clipp-tagline">
            <span id="tagline-text">Spara pengar smartare â€“ automatiskt</span>
        </div>

        <!-- Store Status -->
        <div class="clipp-store-status" id="store-status">
            <div class="clipp-store-badge" id="store-badge">
                <div class="clipp-store-icon">ğŸ›’</div>
                <div class="clipp-store-info">
                    <h4 id="store-name">SÃ¶ker butik...</h4>
                    <p id="store-status-text">Kontrollerar aktuell sida</p>
                </div>
            </div>
        </div>

        <!-- Add Code Section -->
        <div class="clipp-section" id="add-code-section">
            <div class="clipp-section-header">
                <span class="clipp-section-title" id="add-code-title">â• LÃ¤gg till egen kod</span>
            </div>
            <div class="clipp-add-code-form">
                <div class="clipp-input-group">
                    <input type="text" class="clipp-input code-input" id="code-input" placeholder="RABATTKOD" maxlength="30">
                    <button class="clipp-add-btn" id="add-code-btn">LÃ¤gg till</button>
                </div>
                <input type="text" class="clipp-input" id="code-desc-input" placeholder="Beskrivning (valfritt)">
            </div>
        </div>

        <!-- Coupons Section -->
        <div class="clipp-section" id="coupons-section">
            <div class="clipp-section-header">
                <span class="clipp-section-title" id="coupons-title">ğŸ·ï¸ Rabattkoder</span>
                <span class="clipp-section-badge" id="coupons-count" style="display: none;">0</span>
            </div>
            
            <!-- Loading State -->
            <div class="clipp-loading" id="coupons-loading">
                <div class="clipp-spinner"></div>
                <span class="clipp-loading-text" id="loading-text">SÃ¶ker rabattkoder...</span>
            </div>
            
            <!-- Coupons List -->
            <div class="clipp-coupons-list" id="coupons-list" style="display: none;">
                <!-- Coupons will be populated by JavaScript -->
            </div>
            
            <!-- Empty State -->
            <div class="clipp-empty-state" id="coupons-empty" style="display: none;">
                <div class="clipp-empty-icon">ğŸ”</div>
                <h4 class="clipp-empty-title" id="empty-title">Inga koder hittades</h4>
                <p class="clipp-empty-desc" id="empty-desc">LÃ¤gg till en egen kod ovan eller besÃ¶k en stÃ¶dd butik.</p>
            </div>
        </div>

        <!-- Store Button Section -->
        <div class="clipp-store-section" id="store-section" style="display: none;">
            <button class="clipp-store-btn" id="store-button">
                <span class="clipp-store-btn-icon">ğŸ›’</span>
                <span id="store-button-text">GÃ¥ till butik</span>
            </button>
        </div>

        <!-- Statistics Section -->
        <div class="clipp-section">
            <div class="clipp-section-header">
                <span class="clipp-section-title" id="stats-title">ğŸ“Š Din statistik</span>
            </div>
            <div class="clipp-stats-grid">
                <div class="clipp-stat-card">
                    <div class="clipp-stat-icon">ğŸ›’</div>
                    <div class="clipp-stat-content">
                        <div class="clipp-stat-label" id="purchases-label">KÃ¶p via Clipp</div>
                        <div class="clipp-stat-value" id="purchases-value">0</div>
                    </div>
                </div>
                <div class="clipp-stat-card">
                    <div class="clipp-stat-icon">ğŸ’°</div>
                    <div class="clipp-stat-content">
                        <div class="clipp-stat-label" id="savings-label">Totalt sparat</div>
                        <div class="clipp-stat-value" id="savings-value">0 SEK</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="clipp-popup-footer">
            <div class="clipp-footer-links">
                <a href="#" id="privacy-link">Integritet</a>
                <span class="clipp-separator">â€¢</span>
                <a href="#" id="support-link">Support</a>
            </div>
            <div class="clipp-version">v1.1.0</div>
        </div>
    </div>

    <!-- Toast for notifications -->
    <div class="clipp-toast" id="toast"></div>

    <script src="services/CommunityCodeService.js"></script>
    <script src="popup.js"></script>
</body>
</html>
